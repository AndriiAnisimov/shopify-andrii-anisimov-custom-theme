{% comment %}
  Promo Banners Section
{% endcomment %}

<section
        class="promo-banners {{ section.settings.color_scheme }}"
        style="padding: {{ section.settings.padding }}px; text-align: {{ section.settings.text_align }};"
>
    <div class="container">
        {% if section.settings.title != blank %}
            <h2 class="promo-banners__title">{{ section.settings.title }}</h2>
        {% endif %}

        {% if section.settings.subtitle != blank %}
            <div class="promo-banners__subtitle">{{ section.settings.subtitle }}</div>
        {% endif %}

        <div class="promo-banners__grid">
            {% for block in section.blocks %}
                {% if block.type == 'banner' %}
                    <div class="promo-banners__item promo-banners__ratio--{{ block.settings.aspect_ratio }}">
                        {% if block.settings.image != blank %}
                            <img
                                    src="{{ block.settings.image | image_url: width: 800 }}"
                                    alt="{{ block.settings.title | escape }}"
                                    class="promo-banners__image"
                            >
                        {% endif %}

                        {% if block.settings.title != blank %}
                            <h3 class="promo-banners__item-title">{{ block.settings.title }}</h3>
                        {% endif %}

                        {% if block.settings.button_text != blank and block.settings.link != blank %}
                            <a href="{{ block.settings.link }}" class="promo-banners__button">
                                {{ block.settings.button_text }}
                            </a>
                        {% endif %}
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</section>

{% schema %}
{
  "name": "Promo Banners",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Заголовок"
    },
    {
      "type": "richtext",
      "id": "subtitle",
      "label": "Підзаголовок"
    },
    {
      "type": "select",
      "id": "text_align",
      "label": "Вирівнювання тексту",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "padding",
      "label": "Відступи секції (px)",
      "min": 0,
      "max": 100,
      "step": 10,
      "default": 40
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Кольорова схема",
      "options": [
        { "value": "light", "label": "Світла" },
        { "value": "dark", "label": "Темна" },
        { "value": "accent", "label": "Акцентна" }
      ],
      "default": "light"
    }
  ],
  "blocks": [
    {
      "type": "banner",
      "name": "Banner",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Зображення" },
        { "type": "text", "id": "title", "label": "Заголовок" },
        { "type": "text", "id": "button_text", "label": "Текст кнопки" },
        { "type": "url", "id": "link", "label": "Посилання" },
        {
          "type": "select",
          "id": "aspect_ratio",
          "label": "Співвідношення сторін",
          "options": [
            { "value": "16-9", "label": "16:9" },
            { "value": "1-1", "label": "1:1" },
            { "value": "3-2", "label": "3:2" }
          ],
          "default": "16-9"
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Promo Banners",
      "category": "Custom Sections",
      "blocks": [
        { "type": "banner" },
        { "type": "banner" },
        { "type": "banner" }
      ]
    }
  ]
}
{% endschema %}
