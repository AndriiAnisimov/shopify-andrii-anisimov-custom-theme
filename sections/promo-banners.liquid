{% comment %}
  Promo Banners Section
{% endcomment %}

<section
        class="promo-banners {{ section.settings.color_scheme }} w-full overflow-hidden box-border"
        style="padding: {{ section.settings.padding }}px; text-align: {{ section.settings.text_align }};"
>
    <div class="container max-w-[1200px] mx-auto px-4 box-border">
        {% if section.settings.title != blank %}
            <h2 class="promo-banners__title text-2xl font-semibold">{{ section.settings.title }}</h2>
        {% endif %}

        {% if section.settings.subtitle != blank %}
            <div class="promo-banners__subtitle text-base mt-2 text-gray-600">{{ section.settings.subtitle }}</div>
        {% endif %}

        <div class="promo-banners__grid grid grid-cols-1 gap-5 mt-5 sm:grid-cols-2 lg:grid-cols-3">
            {% for block in section.blocks %}
                <div
                        class="promo-banners__item bg-[#f8f8f8] rounded-xl overflow-hidden text-center transition-transform duration-300 hover:-translate-y-[3px]"
                        {{ block.shopify_attributes }}
                >
                    {% if block.settings.image != blank %}
                        <img
                                src="{{ block.settings.image | image_url: width: 800 }}"
                                alt="{{ block.settings.title | escape }}"
                                loading="lazy"
                                class="w-full h-auto block"
                        >
                    {% endif %}

                    {% if block.settings.title != blank %}
                        <h3 class="text-lg font-medium mt-3">{{ block.settings.title }}</h3>
                    {% endif %}

                    {% if block.settings.button_text != blank and block.settings.link != blank %}
                        <a
                                href="{{ block.settings.link }}"
                                class="btn inline-block mt-3 mb-5 px-4 py-2 bg-[#111] text-white no-underline rounded-md text-sm transition-colors duration-300 hover:bg-[#333]"
                        >
                            {{ block.settings.button_text }}
                        </a>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    </div>
</section>

{% schema %}
{
  "name": "Promo Banners",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Заголовок"
    },
    {
      "type": "richtext",
      "id": "subtitle",
      "label": "Підзаголовок"
    },
    {
      "type": "select",
      "id": "text_align",
      "label": "Вирівнювання тексту",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "padding",
      "label": "Відступи секції (px)",
      "min": 0,
      "max": 100,
      "step": 10,
      "default": 40
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Кольорова схема",
      "options": [
        { "value": "light", "label": "Світла" },
        { "value": "dark", "label": "Темна" },
        { "value": "accent", "label": "Акцентна" }
      ],
      "default": "light"
    }
  ],
  "blocks": [
    {
      "type": "banner",
      "name": "Banner",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Зображення" },
        { "type": "text", "id": "title", "label": "Заголовок" },
        { "type": "text", "id": "button_text", "label": "Текст кнопки" },
        { "type": "url", "id": "link", "label": "Посилання" },
        {
          "type": "select",
          "id": "aspect_ratio",
          "label": "Співвідношення сторін",
          "options": [
            { "value": "16-9", "label": "16:9" },
            { "value": "1-1", "label": "1:1" },
            { "value": "3-2", "label": "3:2" }
          ],
          "default": "16-9"
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Promo Banners",
      "category": "Custom Sections",
      "blocks": [
        { "type": "banner" },
        { "type": "banner" },
        { "type": "banner" }
      ]
    }
  ]
}
{% endschema %}
